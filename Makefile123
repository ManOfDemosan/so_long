CC = gcc
CFLAGS = -Wall -Werror -Wextra
RM = rm -f
NAME = so_long
#MLX = libmlx.dylib
#MLX_DIR = ./mlx
INC = -I./includes
SRCS =	srcs/get_next_line.c\
		srcs/get_next_line_utils.c\
		srcs/init_game_feachers.c\
		srcs/init_game.c\
		srcs/init_keypress.c\
		srcs/main.c\
		srcs/map_check.c\
		srcs/map_draw.c\
		srcs/map_reader.c
%.o: %.c
	$(CC) $(INC) -Imlx -c $< -o $@
OBJS = $(SRCS:.c=.o)
$(NAME) : $(OBJS)
	$(CC) -L ./minilibx -lmlx -framework OpenGL -framework AppKit -o $@ $^ 
	install_name_tool -change libmlx.dylib ./minilibx/libmlx.dylib $(NAME)
	# $(MAKE) -C $(MLX_DIR)
	# cp $(MLX_DIR)/$(MLX) .
	# $(CC) $(CFLAGS) $(OBJS) $(MLX) -o $@
all: $(NAME) 
clean:
	$(RM) $(OBJS) $(OBJS_B)
		
fclean: clean
#	$(MAKE) -C $(MLX_DIR) clean
	$(RM) $(NAME) $(MLX) 
re: fclean all
.PHONY: all clean fclean re libmlx.a
